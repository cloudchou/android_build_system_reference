<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Android编译系统变量</title>
<meta name="description" content="Android编译系统变量分析" />
<meta name="keywords" content="Android 底层开发,Android 编译系统,Cyanogenmod 编译系统,Android 架构" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="stylesheet" href="../style_android_build.css" type="text/css" media="screen" />
<link rel="shortcut icon" href="http://www.cloudchou.com/wp-content/themes/tangstyle/images/favicon.ico" type="image/x-icon" />
<script src="jquery.min.js"></script>
</head>
<body>

<div class="">
<h3><a id="">▶ &nbsp;&nbsp;</a></h3>
<p>
</p>
</div>
<div class="variable">
<h3><a id="[__this_file]">■ &nbsp;&nbsp;[__this_file]</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;Dexpreopt&nbsp;on&nbsp;the&nbsp;boot&nbsp;jars<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="DEXPREOPT_BOOT_JARS">■ &nbsp;&nbsp;DEXPREOPT_BOOT_JARS</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;DEXPREOPT_BOOT_JARS&nbsp;:=&nbsp;core:core-junit:bouncycastle:ext:framework:telephony-common:mms-common:android.policy:services:apache-xml<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="DEXPREOPT_BOOT_JARS_MODULES">■ &nbsp;&nbsp;DEXPREOPT_BOOT_JARS_MODULES</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;DEXPREOPT_BOOT_JARS_MODULES&nbsp;:=&nbsp;$(subst&nbsp;:,&nbsp;,$(DEXPREOPT_BOOT_JARS))<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="DEXPREOPT_BUILD_DIR">■ &nbsp;&nbsp;DEXPREOPT_BUILD_DIR</a></h3>
<p>
&nbsp;&nbsp;编译输出目录<br/>
&nbsp;&nbsp;&nbsp;&nbsp;DEXPREOPT_BUILD_DIR&nbsp;:=&nbsp;$(OUT_DIR)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;例：/home/cloud/tmp/android_out/Cyanogenmod<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="DEXPREOPT_PRODUCT_DIR">■ &nbsp;&nbsp;DEXPREOPT_PRODUCT_DIR</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;产品目录<br/>
&nbsp;&nbsp;&nbsp;DEXPREOPT_PRODUCT_DIR&nbsp;:=&nbsp;$(patsubst&nbsp;$(DEXPREOPT_BUILD_DIR)/%,%,$(PRODUCT_OUT))/dex_bootjars<br/>
&nbsp;&nbsp;&nbsp;例：target/product/m7ul/dex_bootjars<br/>
&nbsp;&nbsp;&nbsp;<br/>
</p>
</div>
<div class="variable">
<h3><a id="DEXPREOPT_BOOT_JAR_DIR">■ &nbsp;&nbsp;DEXPREOPT_BOOT_JAR_DIR</a></h3>
<p>
&nbsp;&nbsp;&nbsp;DEXPREOPT_BOOT_JAR_DIR&nbsp;:=&nbsp;system/framework<br/>
&nbsp;&nbsp;&nbsp;例：system/framework<br/>
&nbsp;&nbsp;&nbsp;<br/>
</p>
</div>
<div class="variable">
<h3><a id="DEXPREOPT_DEXOPT">■ &nbsp;&nbsp;DEXPREOPT_DEXOPT</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;DEXPREOPT_DEXOPT&nbsp;:=&nbsp;$(patsubst&nbsp;$(DEXPREOPT_BUILD_DIR)/%,%,$(DEXOPT))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;例：host/linux-x86/bin/dexopt<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="DEXPREOPT_BOOT_JAR_DIR_FULL_PATH">■ &nbsp;&nbsp;DEXPREOPT_BOOT_JAR_DIR_FULL_PATH</a></h3>
<p>
&nbsp;&nbsp;DEXPREOPT_BOOT_JAR_DIR_FULL_PATH&nbsp;:=&nbsp;$(DEXPREOPT_BUILD_DIR)/$(DEXPREOPT_PRODUCT_DIR)/$(DEXPREOPT_BOOT_JAR_DIR)<br/>
&nbsp;&nbsp;例：out/target/target/product/m7ul/dex_bootjars/system/framework<br/>
&nbsp;&nbsp;<br/>
</p>
</div>
<div class="variable">
<h3><a id="DEXPREOPT_BOOT_ODEXS">■ &nbsp;&nbsp;DEXPREOPT_BOOT_ODEXS</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;DEXPREOPT_BOOT_ODEXS&nbsp;:=&nbsp;$(foreach&nbsp;b,$(DEXPREOPT_BOOT_JARS_MODULES),\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(DEXPREOPT_BOOT_JAR_DIR_FULL_PATH)/$(b).odex)&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;例：&nbsp;/home/cloud/tmp/android_out/Cyanogenmod/target/product/m7ul/dex_bootjars/system/framework/core.odex&nbsp;&nbsp;/home/cloud/tmp/android_out/Cyanogenmod/target/product/m7ul/dex_bootjars/system/framework/core-junit.odex&nbsp;&nbsp;/home/cloud/tmp/android_out/Cyanogenmod/target/product/m7ul/dex_bootjars/system/framework/bouncycastle.odex&nbsp;&nbsp;/home/cloud/tmp/android_out/Cyanogenmod/target/product/m7ul/dex_bootjars/system/framework/ext.odex<br/>
<br/>
&nbsp;<br/>
</p>
</div>
<div class="variable">
<h3><a id="DEXPREOPT_UNIPROCESSOR">■ &nbsp;&nbsp;DEXPREOPT_UNIPROCESSOR</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;the&nbsp;target&nbsp;is&nbsp;a&nbsp;uniprocessor,&nbsp;then&nbsp;explicitly&nbsp;tell&nbsp;the&nbsp;preoptimizer<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;fact.&nbsp;(By&nbsp;default,&nbsp;it&nbsp;always&nbsp;optimizes&nbsp;for&nbsp;an&nbsp;SMP&nbsp;target.)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifeq&nbsp;($(TARGET_CPU_SMP),true)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEXPREOPT_UNIPROCESSOR&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEXPREOPT_UNIPROCESSOR&nbsp;:=&nbsp;--uniprocessor<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="[dexpreopt-remove-classes.dex]">■ &nbsp;&nbsp;[dexpreopt-remove-classes.dex]</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;移除classes.dex<br/>
&nbsp;&nbsp;&nbsp;$(1):&nbsp;the&nbsp;.jar&nbsp;or&nbsp;.apk&nbsp;to&nbsp;remove&nbsp;classes.dex<br/>
<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="[dexpreopt-one-file]">■ &nbsp;&nbsp;[dexpreopt-one-file]</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;将apk转为优化后格式，及专为.odex和只有资源文件的apk文件<br/>
&nbsp;&nbsp;&nbsp;&nbsp;$(1):&nbsp;the&nbsp;input&nbsp;.jar&nbsp;or&nbsp;.apk&nbsp;file<br/>
&nbsp;&nbsp;&nbsp;&nbsp;$(2):&nbsp;the&nbsp;output&nbsp;.odex&nbsp;file<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="[_dexpreopt-boot-jar]">■ &nbsp;&nbsp;[_dexpreopt-boot-jar]</a></h3>
<p>
&nbsp;&nbsp;对所有boot的jar进行优化<br/>
&nbsp;&nbsp;&nbsp;&nbsp;$(1):boot&nbsp;jar&nbsp;module&nbsp;name<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="[_build-dexpreopt-boot-jar-dependency-pair]">■ &nbsp;&nbsp;[_build-dexpreopt-boot-jar-dependency-pair]</a></h3>
<p>
&nbsp;&nbsp;系统apk优化相关函数<br/>
&nbsp;&nbsp;$(1):&nbsp;the&nbsp;rest&nbsp;list&nbsp;of&nbsp;boot&nbsp;jars<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="[_build-dexpreopt-boot-jar-dependency]">■ &nbsp;&nbsp;[_build-dexpreopt-boot-jar-dependency]</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;系统apk优化相关函数<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
</div>
</body></html>