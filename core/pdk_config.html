<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Android编译系统变量</title>
<meta name="description" content="Android编译系统变量分析" />
<meta name="keywords" content="Android 底层开发,Android 编译系统,Cyanogenmod 编译系统,Android 架构" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="stylesheet" href="../style_android_build.css" type="text/css" media="screen" />
<link rel="shortcut icon" href="http://www.cloudchou.com/wp-content/themes/tangstyle/images/favicon.ico" type="image/x-icon" />
<script src="jquery.min.js"></script>
</head>
<body>

<div class="file">
<p>
&nbsp;&nbsp;&nbsp;This&nbsp;file&nbsp;defines&nbsp;the&nbsp;rule&nbsp;to&nbsp;fuse&nbsp;the&nbsp;platform.zip&nbsp;into&nbsp;the&nbsp;current&nbsp;PDK&nbsp;build<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;What&nbsp;to&nbsp;build:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pdk&nbsp;fusion&nbsp;if:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)&nbsp;PDK_FUSION_PLATFORM_ZIP&nbsp;is&nbsp;passed&nbsp;in&nbsp;from&nbsp;the&nbsp;environment<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2)&nbsp;the&nbsp;platform.zip&nbsp;exists&nbsp;in&nbsp;the&nbsp;default&nbsp;location<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3)&nbsp;fusion&nbsp;is&nbsp;a&nbsp;command&nbsp;line&nbsp;build&nbsp;goal,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PDK_FUSION_PLATFORM_ZIP&nbsp;is&nbsp;needed&nbsp;anyway,&nbsp;then&nbsp;do&nbsp;we&nbsp;need&nbsp;the&nbsp;'fusion'&nbsp;goal?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise&nbsp;pdk&nbsp;only&nbsp;if:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)&nbsp;pdk&nbsp;is&nbsp;a&nbsp;command&nbsp;line&nbsp;build&nbsp;goal<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2)&nbsp;TARGET_BUILD_PDK&nbsp;is&nbsp;passed&nbsp;in&nbsp;from&nbsp;the&nbsp;environment&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
</p>
</div>
<div class="variable">
<h3><a id="PDK_FUSION_PLATFORM_ZIP">■ &nbsp;&nbsp;PDK_FUSION_PLATFORM_ZIP</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;platform.zip<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifndef&nbsp;PDK_FUSION_PLATFORM_ZIP<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_pdk_fusion_default_platform_zip&nbsp;:=&nbsp;vendor/pdk/$(TARGET_DEVICE)/$(TARGET_PRODUCT)-$(TARGET_BUILD_VARIANT)/platform/platform.zip<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifneq&nbsp;(,$(wildcard&nbsp;$(_pdk_fusion_default_platform_zip)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(info&nbsp;$(_pdk_fusion_default_platform_zip)&nbsp;found,&nbsp;do&nbsp;a&nbsp;PDK&nbsp;fusion&nbsp;build.)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PDK_FUSION_PLATFORM&nbsp;&nbsp;&nbsp;&nbsp;_ZIP&nbsp;:=&nbsp;$(_pdk_fusion_default_platform_zip)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TARGET_BUILD_PDK&nbsp;:=&nbsp;true<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif&nbsp;#&nbsp;!PDK_FUSION_PLATFORM_ZIP<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
</p>
</div>
<div class="variable">
<h3><a id="PDK_PLATFORM_JAVA_ZIP_JAVA_LIB_DIR">■ &nbsp;&nbsp;PDK_PLATFORM_JAVA_ZIP_JAVA_LIB_DIR</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PDK_PLATFORM_JAVA_ZIP_JAVA_LIB_DIR&nbsp;:=&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/JAVA_LIBRARIES/android_stubs_current_intermediates&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/JAVA_LIBRARIES/core_intermediates&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/JAVA_LIBRARIES/core-junit_intermediates&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/JAVA_LIBRARIES/ext_intermediates&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/JAVA_LIBRARIES/framework_intermediates&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/JAVA_LIBRARIES/android.test.runner_intermediates&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/JAVA_LIBRARIES/telephony-common_intermediates&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/JAVA_LIBRARIES/mms-common_intermediates<br/>
&nbsp;<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="PDK_PLATFORM_JAVA_ZIP_CONTENTS">■ &nbsp;&nbsp;PDK_PLATFORM_JAVA_ZIP_CONTENTS</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;PDK_PLATFORM_JAVA_ZIP_CONTENTS&nbsp;:=&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/APPS/framework-res_intermediates/package-export.apk&nbsp;\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;target/common/obj/APPS/framework-res_intermediates/src/R.stamp<br/>
PDK_PLATFORM_JAVA_ZIP_CONTENTS&nbsp;+=&nbsp;$(foreach&nbsp;lib_dir,$(PDK_PLATFORM_JAVA_ZIP_JAVA_LIB_DIR),\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;$(lib_dir)/classes.jar&nbsp;$(lib_dir)/javalib.jar)<br/>
<br/>
<br/>
</p>
</div>
<div class="variable">
<h3><a id="ALL_PDK_FUSION_FILES">■ &nbsp;&nbsp;ALL_PDK_FUSION_FILES</a></h3>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALL_PDK_FUSION_FILES&nbsp;:=&nbsp;$(addprefix&nbsp;$(PRODUCT_OUT)/,&nbsp;$(_pdk_fusion_file_list))<br/>
<br/>
&nbsp;<br/>
&nbsp;&nbsp;&nbsp;</p>
</div>
</body></html>